
<div id="navbar" class="d-flex align-items-center justify-content-lg-between mat-elevation-z2">

  <button
    mat-icon-button
    color="primary"
    class="d-xl-none d-block me-2"
    (click)="toggleSidebar()">
    <mat-icon>menu</mat-icon>
  </button>

  <a class="me-xl-0 me-auto pointer" routerLink="/">

    <img
      src="../../../../assets/images/aista-logo.svg"
      alt="Aista Ltd."
      height="20"
      class="my-auto d-sm-block d-none">

    <img
      src="../../../../assets/images/icons/apple-icon-180x180.png"
      alt="Aista Ltd."
      height="50"
      class="my-auto d-sm-none d-block">

  </a>


  <div
    class="nav-links mx-auto  d-flex flex-xl-row flex-column"
    [class.open]="sideExpanded">

    <img
      src="../../../../assets/images/aista-logo.svg"
      alt="Aista Ltd."
      height="20"
      class="mx-auto d-block d-xl-none mb-4">

    <!-- ONLY to be displayed on medium size screens and smaller -->
    <div class="d-md-none d-block mb-4">

      <button
        mat-button
        [matMenuTriggerFor]="account"
        class="mx-auto d-block">
        <div class="d-flex flex-nowrap align-items-center ps-1">
          <mat-icon>account_circle</mat-icon>
          <p class="my-0 mx-2 text-truncate email-text">{{username}}</p>
          <mat-icon>expand_more</mat-icon>
        </div>
      </button>

    </div>

    <a
      mat-button
      class="nav-link"
      routerLink="/"
      [routerLinkActiveOptions]="{exact: true}"
      routerLinkActive="active-link"
      #isActiveLink="routerLinkActive"
      (click)="closeSidebarInSidePanel()">
      Dashboard
    </a>

    <a
      mat-button
      class="nav-link"
      routerLink="/import"
      [routerLinkActiveOptions]="{exact: false}"
      routerLinkActive="active-link"
      #isActiveLink2="routerLinkActive"
      (click)="closeSidebarInSidePanel()">
      Import
    </a>

    <!-- ONLY to be displayed on medium size screens and smaller -->
    <div class="d-md-none d-block mt-auto">

      <a
        mat-button
        class="justify-content-center w-100 logout-btn"
        color="warn"
        (click)="logout()">
        Logout
      </a>

    </div>

  </div>

  <div class="d-flex align-items-center">

    <button
      mat-button
      [matMenuTriggerFor]="account"
      color="primary"
      class="d-md-block d-none me-1">
      <div class="d-flex flex-nowrap align-items-center ps-1">
        <mat-icon>account_circle</mat-icon>
        <p class="my-0 mx-2 text-truncate email-text">{{username}}</p>
        <mat-icon>expand_more</mat-icon>
      </div>
    </button>

  </div>
</div>

<!-- Account dowpdown menu -->
<mat-menu
  #account="matMenu"
  class="account-menu">

  <button
    mat-menu-item
    class="dropdown-link d-md-block d-none"
    (click)="logout()"
    (click)="closeSidebarInSidePanel()">
    Logout
  </button>

</mat-menu>

<div class="overlay" *ngIf="sideExpanded" (click)="toggleSidebar()"></div>
